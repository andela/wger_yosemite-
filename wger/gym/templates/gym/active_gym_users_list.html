{% load i18n staticfiles %}

<link rel="stylesheet" type="text/css" href="{% static 'bower_components/datatables/media/css/dataTables.bootstrap.min.css' %}">
<script src="{% static 'bower_components/datatables/media/js/jquery.dataTables.min.js' %}" ></script>
<script src="{% static 'bower_components/datatables/media/js/dataTables.bootstrap.min.js' %}" ></script>
<script>

$(document).ready( function(){
    /* Make table sortable */
    $('#main_member_list').DataTable({
        paging: false,
        bFilter: true,
        bInfo : false,
        order: [[4 , "asc" ]]
    });

    $(".ausers").click(function(){
        if ($("#all-users").prop("checked") == true){
            $("#main_member_list tr").show();
        }

        if ($("#active-users").prop("checked") == true){
            $("#main_member_list tr:contains('Active')").show();
            $("#main_member_list tr:contains('Inactive')").hide();
        }

        if ($("#inactive-users").prop("checked") == true){
            $("#main_member_list tr:contains('Active')").hide();
            $("#main_member_list tr:contains('Inactive')").show();
        }
    });

});
</script>
<input type="radio" name="users" id = "all-users" class="ausers" checked> All &nbsp
<input type="radio" name="users" id = "active-users" class="ausers"> Active &nbsp
<input type="radio" name="users" id = "inactive-users" class="ausers"> Inactive
<table class="table table-hover" id="main_member_list">
    <thead>
        <tr>
        {% for key in user_table.keys %}
            <th>{{ key }}</th>
        {% endfor %}

        </tr>
    </thead>
    <tbody>
        {% for current_user in user_table.users %}
        <tr {% if not current_user.obj.is_active %}  style="background: #ffede5;" {% endif %}>
            <td>
                {{current_user.obj.pk}}
            </td>
            <td>
                <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
            </td>
            <td>
                {{current_user.obj.get_full_name}}
            </td>
            <td data-order="{{current_user.last_log|date:'U'}}">
                {{current_user.last_log|default:'-/-'}}
            </td>
            {% if show_gym %}
            <td>
                {% if current_user.obj.userprofile.gym_id %}
                    <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                    {{ current_user.obj.userprofile.gym }}
                    </a>
                {% else %}
                    -/-
                {% endif %}
            </td>
            {% endif %}
            <td>
                <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                </a>
                {% if current_user.obj.is_active %}
                    Active
                {% else %}
                    Inactive
                {% endif %}
            </td>
        </tr>
        {% endfor %}
</tbody>
</table>